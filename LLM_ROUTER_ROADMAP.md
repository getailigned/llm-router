# LLM Router Microservice - Planning & Roadmap

## ğŸ¯ **Service Overview**

The **LLM Router** is an intelligent microservice designed to optimize Large Language Model (LLM) usage across Google Cloud's Vertex AI platform. It automatically routes requests to the most suitable LLM based on performance metrics, cost optimization, and use case requirements, ensuring optimal application performance, utility, and cost efficiency.

## ğŸš€ **Core Objectives**

### **Primary Goals:**
1. **Intelligent Routing**: Route LLM requests to the best-performing model for each specific use case
2. **Performance Optimization**: Minimize latency and maximize response quality
3. **Cost Efficiency**: Optimize costs by selecting the most cost-effective model for each task
4. **Use Case Specialization**: Leverage each LLM's strengths for specific tasks
5. **Analytics & Insights**: Provide comprehensive metrics for performance and cost analysis

### **Key Benefits:**
- **Reduced Latency**: Always use the fastest model for each task type
- **Lower Costs**: Route to cost-effective models without sacrificing quality
- **Better Quality**: Use specialized models for specific use cases
- **Data-Driven Decisions**: Comprehensive analytics for optimization
- **Scalability**: Handle high-volume LLM routing with load balancing

## ğŸ—ï¸ **Architecture Overview**

### **High-Level Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Microservices  â”‚â”€â”€â”€â–¶â”‚  LLM Router    â”‚â”€â”€â”€â–¶â”‚  Vertex AI      â”‚
â”‚ (Authenticated)â”‚    â”‚  (Secure)       â”‚    â”‚  (Unified)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”œâ”€ Google Models  â”‚
                              â”‚               â”œâ”€ Anthropic      â”‚
                              â–¼               â”œâ”€ Hugging Face   â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â””â”€ Custom Models  â”‚
                       â”‚   Analytics     â”‚
                       â”‚   Database      â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Service-to-Service Authentication:**
- **Azure AD JWT Tokens**: Generated by Azure Active Directory
- **Managed Identities**: Azure-native service identity management
- **Service Principals**: Each microservice has unique Azure AD identity
- **Role-Based Access**: Azure RBAC integration for permissions
- **Audit Logging**: Azure AD audit logs + custom service logs
- **Rate Limiting**: Per-service request limits with Azure API Management

#### **Azure AD JWT Generation Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Microservice   â”‚â”€â”€â”€â–¶â”‚ Azure AD        â”‚â”€â”€â”€â–¶â”‚ LLM Router      â”‚
â”‚ (Client)       â”‚    â”‚ (Token Issuer)  â”‚    â”‚ (Resource)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                       â”‚
        â”‚                       â–¼                       â”‚
        â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
        â”‚              â”‚ JWT Token       â”‚              â”‚
        â”‚              â”‚ (Signed by      â”‚              â”‚
        â”‚              â”‚  Azure AD)      â”‚              â”‚
        â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
        â”‚                       â”‚                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ Token Validationâ”‚
                       â”‚ & Authorization â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **JWT Generation Flow:**
1. **Service Principal Creation**: Each microservice gets unique Azure AD identity
2. **Token Request**: Microservice requests JWT from Azure AD using client credentials
3. **Azure AD Validation**: Azure AD validates service identity and permissions
4. **JWT Generation**: Azure AD generates signed JWT with claims and expiration
5. **Token Usage**: Microservice includes JWT in requests to LLM Router
6. **Validation**: LLM Router validates JWT signature and claims using Azure AD public keys
7. **Authorization**: Check permissions and rate limits based on service identity

### **Core Components:**
1. **Azure AD Integration**: JWT validation using Azure AD public keys
2. **Service Identity Manager**: Azure Managed Identity and Service Principal management
3. **Request Analyzer**: Content type detection and attachment analysis
4. **Security Engine**: Compliance checking and security level enforcement
5. **Request Router**: Intelligent routing engine with categorization
6. **Model Registry**: Vertex AI model catalog and capabilities
7. **Performance Monitor**: Real-time latency and quality tracking
8. **Cost Optimizer**: Pricing analysis and cost routing
9. **Analytics Engine**: Request tracking and insights
10. **Load Balancer**: Traffic distribution and failover
11. **Audit Logger**: Azure AD audit logs + custom service logging
12. **Rate Limiter**: Azure API Management integration for throttling

## ğŸ“Š **Supported LLM Models**

### **Latest Model Capabilities:**

#### **Claude 4.1 Opus - Flagship Model:**
- **Performance**: Most advanced reasoning and analysis capabilities
- **Use Cases**: Complex research, strategic planning, advanced analysis
- **RAG Support**: Excellent document understanding and context integration
- **Cost**: Premium pricing for highest quality results
- **Best For**: Critical business decisions, research, complex problem-solving

#### **Claude 4 Sonnet - Balanced Power:**
- **Performance**: Strong reasoning with good speed-cost balance
- **Use Cases**: General analysis, document processing, moderate complexity
- **RAG Support**: Good document understanding and retrieval
- **Cost**: Mid-tier pricing for balanced performance
- **Best For**: Daily operations, content analysis, business intelligence

### **Google Cloud Vertex AI (Unified Platform):**

#### **Google Models:**
- **Gemini Pro**: General-purpose, balanced performance
- **Gemini Pro Vision**: Multimodal tasks (text + images)
- **Gemini Flash**: Fast, cost-effective for simple tasks
- **Codey**: Code generation and analysis
- **Imagen**: Image generation and editing
- **PaLM 2**: Text generation and analysis
- **Chat-Bison**: Conversational AI tasks

#### **Anthropic Models (via Vertex AI Model Garden):**
- **Claude 4.1 Opus**: Latest generation, highest quality for complex reasoning and analysis
- **Claude 4 Sonnet**: Latest generation, balanced performance for most tasks
- **Claude 3.5 Sonnet**: Fast, balanced performance for most tasks
- **Claude 3.5 Haiku**: Ultra-fast, cost-effective for simple queries
- **Claude 3 Opus**: High quality for complex reasoning tasks
- **Claude 3 Sonnet**: Balanced performance and cost
- **Claude 3 Haiku**: Fast and efficient for straightforward tasks

#### **Hugging Face Models (via Vertex AI Model Garden):**
- **Specialized Models**: Text classification, NER, summarization, Q&A
- **Embedding Models**: Text-embedding-ada-002, all-MiniLM-L6-v2, sentence-transformers
- **Custom Fine-tuned Models**: Domain-specific models deployed to Vertex AI
- **Multilingual Models**: Support for multiple languages and locales

### **Specialized Services:**
- **RAG-Enabled Models**: Claude 4.1 Opus, Claude 4 Sonnet, Claude 3.5 Sonnet, Gemini Pro with retrieval capabilities
- **Vector Storage**: Azure PostgreSQL with pgvector extension for embeddings
- **Custom Model Deployment**: Fine-tuned models via Vertex AI endpoints

### **Model Selection Criteria:**
- **Task Type**: Code generation, text analysis, image processing, etc.
- **Complexity**: Simple queries vs. complex reasoning
- **Input Format**: Text-only, multimodal, code, etc.
- **Performance Requirements**: Speed vs. quality trade-offs
- **Cost Constraints**: Budget limitations and optimization targets

### **Configurable Routing Priority System:**
```
Priority 1 - Claude 4.1 Opus:
  - Complex reasoning and analysis
  - Strategic planning and research
  - High-stakes business decisions
  - Advanced RAG operations

Priority 2 - Claude 4 Sonnet:
  - General analysis and processing
  - Document understanding
  - Business intelligence tasks
  - Moderate complexity RAG

Priority 3 - Claude 3.5 Sonnet:
  - Balanced performance needs
  - Cost-sensitive operations
  - Standard RAG operations

Priority 4 - Gemini Pro:
  - Multimodal tasks
  - Google ecosystem integration
  - Alternative to Claude models
```

#### **Configuration Sources (Priority Order):**
1. **Environment Variables** (Highest Priority)
2. **Configuration Files** (config/routing-priorities.json)
3. **Database Configuration** (Runtime updates)
4. **Default Values** (Fallback)

## ğŸ”„ **Routing Logic & Algorithms**

### **Intelligent Request Categorization:**

#### **Request Analysis Engine:**
- **Content Type Detection**: Text, code, images, documents, mixed content
- **Attachment Analysis**: File type, size, format, and characteristics
- **Complexity Assessment**: Simple query vs. complex reasoning requirements
- **Domain Classification**: Technical, business, creative, analytical, sensitive
- **Language Detection**: Multi-language support and localization
- **Context Understanding**: Previous interactions, user preferences, session data

#### **Attachment Characteristics Analysis:**
- **File Type**: PDF, DOCX, TXT, CSV, images, code files, etc.
- **Size Classification**: Small (<1MB), Medium (1-10MB), Large (>10MB)
- **Content Sensitivity**: Public, internal, confidential, highly sensitive
- **Technical Complexity**: Simple, moderate, complex, expert-level
- **Processing Requirements**: OCR, parsing, analysis, summarization
- **Security Level**: Standard, enhanced, maximum security protocols

#### **Request Classification Categories:**
```
1. Content Analysis:
   - Text-only: Simple queries, basic analysis
   - Document-based: PDFs, Word docs, presentations
   - Code-focused: Programming, debugging, analysis
   - Image-based: Visual content, OCR, analysis
   - Mixed-media: Multi-format content

2. Complexity Levels:
   - Simple: Basic Q&A, simple tasks
   - Moderate: Analysis, summarization, comparison
   - Complex: Deep reasoning, synthesis, planning
   - Expert: Research, advanced analysis, strategy

3. Security Requirements:
   - Public: General information, public data
   - Internal: Company data, internal processes
   - Confidential: Sensitive business information
   - Restricted: Highly sensitive, compliance-regulated
```

### **RAG & Semantic Analysis Capabilities:**

#### **Retrieval-Augmented Generation (RAG):**
- **Document Ingestion**: Process and chunk documents for vector storage
- **Vector Embeddings**: Generate embeddings using Hugging Face models via Vertex AI
- **Similarity Search**: Find relevant context using Azure PostgreSQL pgvector
- **Context Augmentation**: Enhance LLM prompts with retrieved information
- **Knowledge Base Integration**: Connect to existing Azure PostgreSQL knowledge repositories
- **Real-time Updates**: Continuous learning from new documents and feedback

#### **Semantic Analysis with Hugging Face:**
- **Text Classification**: Sentiment analysis, topic classification, intent detection
- **Named Entity Recognition**: Extract entities, locations, organizations
- **Text Summarization**: Generate concise summaries of long documents
- **Question Answering**: Extract specific answers from documents
- **Text Similarity**: Calculate semantic similarity between texts
- **Language Detection**: Identify and process multiple languages
- **Custom Model Fine-tuning**: Adapt models for domain-specific tasks

### **Primary Routing Factors:**

#### **1. Use Case Classification**
- **Code Generation**: Route to Codey, Gemini Pro, Claude 4.1 Opus, or Claude 4 Sonnet
- **Text Analysis**: Route to PaLM 2, Gemini Pro, Claude 4.1 Opus, or Claude 4 Sonnet
- **Multimodal Tasks**: Route to Gemini Pro Vision, Claude 4.1 Opus, or Claude 4 Sonnet
- **Conversational AI**: Route to Chat-Bison, Claude 4.1 Opus, Claude 4 Sonnet, or Claude 3.5 Haiku
- **Image Generation**: Route to Imagen
- **Complex Reasoning**: Route to Claude 4.1 Opus for highest quality analysis
- **Fast Responses**: Route to Gemini Flash, Claude 3 Haiku, or Claude 3.5 Haiku
- **High Performance**: Route to Claude 4.1 Opus, Claude 4 Sonnet, or Gemini Pro
- **Production Workloads**: Route to Claude 2.1 for stability
- **RAG Operations**: Route to Claude 3.5 Sonnet, Gemini Pro, or specialized RAG models
- **Semantic Analysis**: Route to Hugging Face models or Claude 3.5 Sonnet
- **Document Processing**: Route to Claude 3.5 Sonnet or Gemini Pro with RAG capabilities
- **Knowledge Base Queries**: Route to RAG-enabled models with vector search

#### **2. Performance Metrics**
- **Latency**: Response time optimization
- **Throughput**: Requests per second handling
- **Quality Score**: Response accuracy and relevance
- **Availability**: Model uptime and reliability

#### **3. Cost Optimization**
- **Per-Token Pricing**: Model-specific cost analysis
- **Task Complexity**: Simple vs. complex task routing
- **Budget Allocation**: Cost distribution across models
- **ROI Optimization**: Cost vs. quality trade-offs

#### **4. Load Balancing**
- **Request Distribution**: Even load across available models
- **Failover Handling**: Automatic fallback to alternative models
- **Capacity Planning**: Model capacity and queue management

### **Enhanced Routing Algorithm:**
```
1. Authenticate and authorize requesting microservice
2. Analyze request content and characteristics:
   - Content type (text, code, images, documents)
   - Attachment analysis (type, size, sensitivity, complexity)
   - Security requirements and compliance needs
   - Processing complexity and reasoning requirements
3. Categorize request into appropriate classification
4. Score available models based on:
   - Content type match (25%)
   - Security compliance (20%)
   - Performance metrics (20%)
   - Cost efficiency (15%)
   - Current load (10%)
   - Provider reliability (10%)
5. Select optimal model for the specific request type
6. Route request and track performance
7. Update analytics and routing weights
8. Implement provider failover if needed
```

### **Request Analysis & Categorization Workflow:**
```
1. Service Authentication:
   - Validate JWT token from requesting microservice
   - Check service permissions and rate limits
   - Log authentication attempt

2. Content Analysis:
   - Detect content type (text, code, images, documents)
   - Analyze attachments for type, size, and characteristics
   - Assess content sensitivity and security requirements
   - Determine processing complexity

3. Request Classification:
   - Categorize into content type buckets
   - Assign complexity and security levels
   - Identify optimal processing requirements
   - Select appropriate model category

4. Model Selection:
   - Score models based on classification results
   - Consider security compliance requirements
   - Optimize for performance and cost
   - Route to best-suited model

5. Processing & Tracking:
   - Execute request with selected model
   - Monitor performance and quality
   - Update routing weights and analytics
   - Log all activities for audit
```

### **RAG-Specific Routing Logic:**
```
1. Determine if request requires RAG capabilities
2. If RAG is needed:
   - Generate embeddings using Hugging Face models via Vertex AI
   - Search Azure PostgreSQL with pgvector for relevant context
   - Augment prompt with retrieved information
   - Route to RAG-enabled LLM (Claude 4.1 Opus, Claude 4 Sonnet, Claude 3.5 Sonnet, Gemini Pro)
3. If semantic analysis is needed:
   - Route to appropriate Hugging Face model via Vertex AI
   - Process text for classification, NER, or similarity
   - Return results or enhance LLM prompt
4. Track performance and update routing weights
```

### **Unified Vertex AI Benefits:**
- **Single Interface**: Consistent API across all model types
- **Centralized Management**: All models managed through one platform
- **Unified Authentication**: Single service account for all operations
- **Cost Optimization**: Compare pricing within Vertex AI ecosystem
- **Enhanced Reliability**: Built-in failover and load balancing
- **Performance Optimization**: Route to fastest model regardless of source
- **Specialized Capabilities**: Access to Google, Anthropic, and Hugging Face models
- **Simplified Operations**: Reduced complexity and maintenance overhead

### **Azure Infrastructure Integration Benefits:**
- **Existing Infrastructure**: Leverage already deployed Azure services
- **Unified Monitoring**: Use existing Azure Monitor and Application Insights
- **Consistent Security**: Same security policies and compliance
- **Cost Efficiency**: No additional infrastructure costs
- **pgvector Extension**: Native PostgreSQL vector operations for embeddings
- **Redis Integration**: Leverage existing Azure Redis for caching
- **Seamless Deployment**: Integrate with existing Azure DevOps pipelines

### **Security & Authentication Benefits:**
- **Service Identity**: Each microservice has unique, verifiable identity
- **JWT Security**: Industry-standard token-based authentication
- **Audit Logging**: Comprehensive tracking of all service interactions
- **Rate Limiting**: Prevent abuse and ensure fair resource allocation
- **Compliance**: Built-in security controls for sensitive data
- **Access Control**: Role-based permissions for different service types

## ğŸ“ˆ **Analytics & Metrics**

### **Request Tracking:**
- **Request ID**: Unique identifier for each request
- **Timestamp**: Request timing and duration
- **Model Used**: Which LLM processed the request
- **Response Time**: Latency measurements
- **Token Usage**: Input/output token counts
- **Cost**: Actual cost per request
- **Quality Score**: Response quality assessment
- **User Feedback**: Explicit quality ratings
- **RAG Metrics**: Context retrieval time, relevance scores, document sources
- **Semantic Analysis**: Model type, processing time, confidence scores

### **Performance Metrics:**
- **Model Performance**: Response time, throughput, error rates
- **Cost Analysis**: Per-model cost efficiency
- **Usage Patterns**: Most/least used models
- **Quality Trends**: Performance over time
- **ROI Metrics**: Cost vs. value analysis

### **Admin Dashboard Metrics:**
- **Model Utilization**: Usage percentages and trends
- **Cost Breakdown**: Per-model and per-use-case costs
- **Performance Rankings**: Best/worst performing models
- **Recommendations**: Optimization suggestions
- **Capacity Planning**: Resource allocation insights

### **Comprehensive Admin Dashboard:**

#### **1. Real-Time Monitoring Dashboard:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LLM Router Admin Dashboard               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ System Health: ğŸŸ¢ Online | Requests/min: 45 | Errors: 0   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Live Request Stream                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Work Item Svc   â”‚ â”‚ AI Insights     â”‚ â”‚ Dependency Svc  â”‚ â”‚
â”‚ â”‚ Claude 4.1 Opus â”‚ â”‚ Claude 4 Sonnet â”‚ â”‚ Gemini Pro      â”‚ â”‚
â”‚ â”‚ 2.3s | $0.12   â”‚ â”‚ 1.8s | $0.08   â”‚ â”‚ 1.5s | $0.06   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Active Connections: 12 | Queue Depth: 3 | Avg Response: 1.9s â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **2. Analytics & Performance Dashboard:**
- **Request Volume Trends**: Daily, weekly, monthly charts
- **Model Performance Comparison**: Side-by-side metrics
- **Cost Analysis**: Per-model, per-service, per-time-period breakdown
- **Quality Metrics**: Response quality scores and trends
- **Latency Analysis**: Response time distributions and percentiles
- **Throughput Metrics**: Requests per second, concurrent users
- **Error Analysis**: Error types, frequency, and patterns
- **Success Rate Tracking**: Overall system reliability metrics

#### **3. Security & Compliance Dashboard:**
- **Authentication Logs**: Service principal access patterns
- **Security Events**: Failed attempts, suspicious activity
- **Rate Limiting**: Per-service usage and violations
- **Audit Trail**: Configuration change history
- **Compliance Status**: Data handling and privacy metrics
- **Access Control**: Role-based permission usage
- **Token Validation**: JWT token health and expiration

#### **4. Configuration Management Dashboard:**
- **Current Settings**: Live view of routing priorities
- **Configuration History**: Timeline of all changes
- **Validation Status**: Real-time configuration health
- **Environment Variables**: Current values and overrides
- **Backup Status**: Configuration backup health
- **Hot-Reload Status**: File watcher and reload status

#### **5. Business Intelligence Dashboard:**
- **Cost Optimization**: ROI analysis and recommendations
- **Performance Trends**: Long-term performance analysis
- **Capacity Planning**: Resource allocation insights
- **Model Recommendations**: AI-powered optimization suggestions
- **Budget Tracking**: Cost projections and alerts
- **Efficiency Metrics**: Cost per request, quality per dollar

## ğŸ› ï¸ **Technical Implementation**

### **Technology Stack:**
- **Runtime**: Node.js with TypeScript
- **Framework**: Express.js for API endpoints
- **Database**: Azure PostgreSQL with pgvector extension
- **Cache**: Azure Redis for performance metrics and routing decisions
- **Monitoring**: Azure Monitor + Application Insights for observability
- **Logging**: Structured logging with correlation IDs
- **Testing**: Jest for unit tests, integration tests

### **Provider Integration:**
- **Google Cloud Vertex AI**: Unified interface for all models
- **Google Models**: Gemini, PaLM, Codey, Imagen via Vertex AI
- **Anthropic Models**: Claude models via Vertex AI Model Garden
- **Hugging Face Models**: Specialized models via Vertex AI Model Garden
- **Custom Models**: Fine-tuned models deployed to Vertex AI
- **Unified Authentication**: Single Google Cloud service account
- **Centralized Management**: All models managed through Vertex AI
- **Consistent API**: Standardized interface across all model types

### **Key Dependencies:**
- **Google Cloud SDK**: Vertex AI integration (unified)
- **Vertex AI Model Garden**: Access to Anthropic and Hugging Face models
- **Azure PostgreSQL**: Database with pgvector extension for vector storage
- **Azure Redis**: Caching and session management
- **Database ORM**: Prisma for data management
- **Queue System**: Bull for job processing
- **Validation**: Zod for request/response validation
- **Rate Limiting**: Express-rate-limit for API protection
- **Admin Dashboard**: React-based real-time monitoring interface
- **Real-Time Updates**: WebSocket connections for live data streaming
- **Data Visualization**: Chart.js or D3.js for interactive charts
- **Export Capabilities**: CSV, JSON, and PDF export functionality

### **API Endpoints:**
```
# Core Routing
POST /api/v1/route          # Route LLM request with authentication
GET  /api/v1/models         # List available models
GET  /api/v1/health         # Service health check

# Authentication & Security
POST /api/v1/auth/login     # Service authentication
POST /api/v1/auth/refresh   # Refresh JWT token
GET  /api/v1/auth/validate  # Validate service token

# Request Analysis
POST /api/v1/analyze        # Analyze request content and attachments
GET  /api/v1/categories     # Get request categorization options
POST /api/v1/classify       # Classify request type and requirements

# RAG & Semantic Analysis
POST /api/v1/rag/query      # RAG-enabled query processing
POST /api/v1/rag/ingest     # Ingest documents for RAG
GET  /api/v1/rag/documents  # List available documents
POST /api/v1/semantic/analyze # Semantic text analysis
POST /api/v1/semantic/embed  # Generate text embeddings
POST /api/v1/semantic/similarity # Calculate text similarity

# Analytics & Monitoring
GET  /api/v1/analytics      # Get performance analytics
POST /api/v1/feedback       # Submit quality feedback
GET  /api/v1/audit          # Get security audit logs

# Configuration Management
GET  /api/v1/config/current           # Get current configuration
POST /api/v1/config/routing-priorities # Update routing priorities
POST /api/v1/config/task-routing     # Update task routing rules
POST /api/v1/config/reload           # Reload configuration
POST /api/v1/config/validate         # Validate configuration
POST /api/v1/config/reset            # Reset to defaults

# Admin Dashboard
GET  /api/v1/admin/dashboard          # Main dashboard data
GET  /api/v1/admin/real-time         # Real-time monitoring data
GET  /api/v1/admin/analytics         # Detailed analytics
GET  /api/v1/admin/security          # Security and compliance data
GET  /api/v1/admin/configuration     # Configuration management data
GET  /api/v1/admin/business-intel    # Business intelligence data
GET  /api/v1/admin/export            # Export data for external analysis
POST /api/v1/admin/alerts            # Configure alerting rules
```

## ğŸ“‹ **Development Phases**

### **Phase 1: Foundation (Weeks 1-2)**
- [ ] Project setup and basic structure
- [ ] Google Cloud SDK integration
- [ ] Azure AD integration and service principal setup
- [ ] Basic routing engine
- [ ] Model registry implementation
- [ ] Simple request routing

### **Phase 2: Security & Authentication (Weeks 3-4)**
- [ ] Azure AD JWT validation implementation
- [ ] Service principal management for microservices
- [ ] Role-based access control (RBAC) integration
- [ ] Rate limiting with Azure API Management
- [ ] Comprehensive audit logging

### **Phase 3: Core Features (Weeks 5-6)**
- [ ] Performance monitoring
- [ ] Cost optimization algorithms
- [ ] Use case classification
- [ ] Load balancing
- [ ] Basic analytics

### **Phase 4: Admin Dashboard (Weeks 7-8)**
- [ ] React-based admin interface
- [ ] Real-time monitoring dashboard
- [ ] Analytics and performance charts
- [ ] Security and compliance views
- [ ] Configuration management interface
- [ ] Business intelligence dashboard

### **Phase 5: Advanced Features (Weeks 9-10)**
- [ ] Machine learning routing optimization
- [ ] Advanced analytics dashboard
- [ ] Admin configuration interface
- [ ] Performance tuning
- [ ] Comprehensive testing

### **Phase 6: Production Ready (Weeks 11-12)**
- [ ] Production deployment
- [ ] Monitoring and alerting
- [ ] Documentation and training
- [ ] Performance optimization
- [ ] Security hardening

### **Phase 3: Core Features (Weeks 5-6)**
- [ ] Performance monitoring
- [ ] Cost optimization algorithms
- [ ] Use case classification
- [ ] Load balancing
- [ ] Basic analytics

### **Phase 3: Advanced Features (Weeks 5-6)**
- [ ] Machine learning routing optimization
- [ ] Advanced analytics dashboard
- [ ] Admin configuration interface
- [ ] Performance tuning
- [ ] Comprehensive testing

### **Phase 4: Production Ready (Weeks 7-8)**
- [ ] Production deployment
- [ ] Monitoring and alerting
- [ ] Documentation and training
- [ ] Performance optimization
- [ ] Security hardening

## ğŸ”§ **Configuration & Management**

### **Admin Dashboard Implementation:**

#### **Dashboard Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Admin Dashboard Frontend                 â”‚
â”‚                    (React + TypeScript)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ WebSocket Connection â†â†’ Real-time Data Streaming           â”‚
â”‚ REST API Calls â†â†’ Historical Data & Configuration          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Components:                                                 â”‚
â”‚ â€¢ RealTimeMonitor    â€¢ AnalyticsCharts    â€¢ SecurityView   â”‚
â”‚ â€¢ ConfigManager      â€¢ BusinessIntel      â€¢ ExportTools    â”‚
â”‚ â€¢ AlertManager       â€¢ PerformanceMetrics â€¢ CostAnalysis   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **Data Sources & Structure:**
```typescript
// Real-time monitoring data
interface RealTimeData {
  systemHealth: {
    status: 'online' | 'offline' | 'degraded';
    requestsPerMinute: number;
    activeConnections: number;
    queueDepth: number;
    averageResponseTime: number;
    errorCount: number;
  };
  liveRequests: Array<{
    id: string;
    service: string;
    model: string;
    status: 'processing' | 'completed' | 'failed';
    startTime: Date;
    duration?: number;
    cost?: number;
  }>;
  modelPerformance: {
    [modelName: string]: {
      activeRequests: number;
      averageResponseTime: number;
      successRate: number;
      costPerRequest: number;
    };
  };
}

// Analytics data structure
interface AnalyticsData {
  timeRange: {
    start: Date;
    end: Date;
    granularity: 'minute' | 'hour' | 'day' | 'week' | 'month';
  };
  metrics: {
    totalRequests: number;
    totalCost: number;
    averageResponseTime: number;
    successRate: number;
    modelUsage: Record<string, number>;
    serviceUsage: Record<string, number>;
    costBreakdown: Record<string, number>;
  };
  trends: {
    requestVolume: TimeSeriesData[];
    costTrends: TimeSeriesData[];
    performanceTrends: TimeSeriesData[];
    qualityTrends: TimeSeriesData[];
  };
}
```

#### **Dashboard Features:**
- **Real-time Updates**: WebSocket connections for live data
- **Interactive Charts**: Chart.js for performance visualization
- **Responsive Design**: Mobile and desktop optimized
- **Role-based Access**: Different views for different admin levels
- **Export Capabilities**: CSV, JSON, PDF export
- **Alerting System**: Configurable notifications and thresholds
- **Historical Data**: Time-series analysis and trending
- **Drill-down Capabilities**: Detailed analysis of specific metrics

### **Routing Priority Configuration System:**

#### **1. Environment Variable Overrides:**
```bash
# Override routing priorities via environment variables
ROUTING_PRIORITY_1=claude-4.1-opus
ROUTING_PRIORITY_2=claude-4-sonnet
ROUTING_PRIORITY_3=claude-3.5-sonnet
ROUTING_PRIORITY_4=gemini-pro

# Model-specific configurations
CLAUDE_4_1_OPUS_PRIORITY=1
CLAUDE_4_1_OPUS_WEIGHT=0.35
CLAUDE_4_1_OPUS_MAX_COST=0.50
CLAUDE_4_1_OPUS_ENABLED=true

CLAUDE_4_SONNET_PRIORITY=2
CLAUDE_4_SONNET_WEIGHT=0.25
CLAUDE_4_SONNET_MAX_COST=0.30
CLAUDE_4_SONNET_ENABLED=true

# Task-specific routing overrides
COMPLEX_REASONING_MODELS=claude-4.1-opus,claude-4-sonnet
RAG_OPERATIONS_MODELS=claude-4.1-opus,claude-4-sonnet,claude-3.5-sonnet
FAST_RESPONSE_MODELS=claude-3.5-haiku,gemini-flash
```

#### **2. Configuration File (config/routing-priorities.json):**
```json
{
  "routing": {
    "priorities": {
      "1": {
        "model": "claude-4.1-opus",
        "name": "Claude 4.1 Opus",
        "weight": 0.35,
        "maxCost": 0.50,
        "enabled": true,
        "useCases": ["complex-reasoning", "strategic-planning", "research", "advanced-rag"],
        "fallback": "claude-4-sonnet"
      },
      "2": {
        "model": "claude-4-sonnet",
        "name": "Claude 4 Sonnet",
        "weight": 0.25,
        "maxCost": 0.30,
        "enabled": true,
        "useCases": ["general-analysis", "document-processing", "business-intelligence"],
        "fallback": "claude-3.5-sonnet"
      },
      "3": {
        "model": "claude-3.5-sonnet",
        "name": "Claude 3.5 Sonnet",
        "weight": 0.20,
        "maxCost": 0.25,
        "enabled": true,
        "useCases": ["balanced-performance", "cost-sensitive", "standard-rag"],
        "fallback": "gemini-pro"
      },
      "4": {
        "model": "gemini-pro",
        "name": "Gemini Pro",
        "weight": 0.15,
        "maxCost": 0.20,
        "enabled": true,
        "useCases": ["multimodal", "google-ecosystem", "alternative"],
        "fallback": "claude-3.5-haiku"
      }
    },
    "taskRouting": {
      "complex-reasoning": {
        "primary": ["claude-4.1-opus", "claude-4-sonnet"],
        "fallback": ["claude-3.5-sonnet", "gemini-pro"],
        "minQuality": 0.9
      },
      "rag-operations": {
        "primary": ["claude-4.1-opus", "claude-4-sonnet", "claude-3.5-sonnet"],
        "fallback": ["gemini-pro"],
        "minQuality": 0.8
      },
      "fast-response": {
        "primary": ["claude-3.5-haiku", "gemini-flash"],
        "fallback": ["claude-3.5-sonnet"],
        "maxLatency": 2000
      }
    },
    "costOptimization": {
      "enabled": true,
      "maxBudget": 100.00,
      "dailyLimit": 50.00,
      "priorityModels": ["claude-4.1-opus", "claude-4-sonnet"]
    }
  }
}
```

#### **3. Runtime Configuration Updates:**
```typescript
// Update routing priorities via API
POST /api/v1/config/routing-priorities
{
  "priorities": {
    "1": {
      "model": "claude-4.1-opus",
      "weight": 0.40,
      "enabled": true
    }
  }
}

// Update task routing
POST /api/v1/config/task-routing
{
  "task": "complex-reasoning",
  "primary": ["claude-4.1-opus"],
  "fallback": ["claude-4-sonnet"]
}
```

#### **4. Configuration Management Commands:**
```bash
# Reload configuration without restart
curl -X POST http://localhost:3000/api/v1/config/reload

# View current configuration
curl http://localhost:3000/api/v1/config/current

# Validate configuration
curl -X POST http://localhost:3000/api/v1/config/validate

# Reset to defaults
curl -X POST http://localhost:3000/api/v1/config/reset
```

#### **5. Configuration Hot-Reloading:**
```typescript
// Configuration watcher automatically reloads changes
const configWatcher = chokidar.watch(configPath, {
  persistent: true,
  ignoreInitial: true,
  awaitWriteFinish: { stabilityThreshold: 1000 }
});

configWatcher.on('change', async (path) => {
  console.log(`Configuration file changed: ${path}`);
  await reloadConfiguration();
  await validateConfiguration();
  console.log('Configuration reloaded successfully');
});

// Environment variable changes trigger reload
process.on('SIGHUP', async () => {
  console.log('Received SIGHUP, reloading configuration...');
  await reloadConfiguration();
});
```

#### **6. Configuration Validation Rules:**
```json
{
  "validation": {
    "priorities": {
      "required": ["model", "weight", "enabled"],
      "constraints": {
        "weight": "0.0 <= weight <= 1.0",
        "priority": "1 <= priority <= 10",
        "maxCost": "maxCost >= 0.0"
      }
    },
    "taskRouting": {
      "required": ["primary", "fallback"],
      "constraints": {
        "primary": "Array with at least one model",
        "fallback": "Array with at least one model",
        "minQuality": "0.0 <= minQuality <= 1.0"
      }
    },
    "costOptimization": {
      "constraints": {
        "maxBudget": "maxBudget > 0",
        "dailyLimit": "dailyLimit <= maxBudget"
      }
    }
  }
}
```

### **Azure AD Setup & Configuration:**

#### **1. Service Principal Creation:**
```bash
# Create service principal for LLM Router
az ad sp create-for-rbac --name "htma-llm-router" \
  --role "Contributor" \
  --scopes "/subscriptions/YOUR-SUBSCRIPTION-ID"

# Create service principal for each microservice
az ad sp create-for-rbac --name "htma-work-item-service" \
  --role "Contributor" \
  --scopes "/subscriptions/YOUR-SUBSCRIPTION-ID"
```

#### **2. App Registration for LLM Router:**
```bash
# Register application in Azure AD
az ad app create --display-name "HTMA LLM Router" \
  --identifier-uris "api://htma-llm-router" \
  --sign-in-audience "AzureADMyOrg"

# Create service principal for the app
az ad sp create --id "APP-ID-FROM-ABOVE"

# Grant admin consent for API permissions
az ad app permission admin-consent --id "APP-ID-FROM-ABOVE"
```

#### **3. RBAC Role Assignment:**
```bash
# Assign roles to microservices
az role assignment create \
  --assignee "SERVICE-PRINCIPAL-ID" \
  --role "LLM Router User" \
  --scope "/subscriptions/YOUR-SUBSCRIPTION-ID/resourceGroups/YOUR-RG"
```

#### **4. JWT Token Flow in Practice:**
```typescript
// 1. Microservice requests JWT from Azure AD
const tokenResponse = await msalClient.acquireTokenByClientCredential({
  scopes: ['api://htma-llm-router/.default'],
  clientId: process.env.AZURE_CLIENT_ID,
  clientSecret: process.env.AZURE_CLIENT_SECRET,
  authority: process.env.AZURE_AD_INSTANCE + process.env.AZURE_TENANT_ID
});

// 2. Include JWT in request to LLM Router
const response = await fetch('https://llm-router.azurewebsites.net/api/v1/route', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${tokenResponse.accessToken}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(requestData)
});

// 3. LLM Router validates JWT using Azure AD public keys
const decodedToken = jwt.verify(token, publicKey, {
  audience: process.env.AZURE_AD_AUDIENCE,
  issuer: `https://sts.windows.net/${process.env.AZURE_TENANT_ID}/`
});
```

### **Azure PostgreSQL pgvector Setup:**
```sql
-- Enable the pgvector extension
CREATE EXTENSION IF NOT EXISTS vector;

-- Create tables for RAG operations
CREATE TABLE documents (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255),
    content TEXT,
    metadata JSONB,
    embedding vector(1536),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE embeddings (
    id SERIAL PRIMARY KEY,
    text_chunk TEXT,
    embedding vector(1536),
    document_id INTEGER REFERENCES documents(id),
    chunk_index INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create indexes for vector similarity search
CREATE INDEX ON embeddings USING ivfflat (embedding vector_cosine_ops);
CREATE INDEX ON documents USING GIN (metadata);
```

### **Environment Variables:**
```bash
# Google Cloud Configuration (Unified)
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_APPLICATION_CREDENTIALS=path/to/credentials.json
VERTEX_AI_LOCATION=us-central1  # or your preferred region

# Azure AD Security & Authentication
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-service-principal-client-id
AZURE_CLIENT_SECRET=your-service-principal-secret
AZURE_AD_INSTANCE=https://login.microsoftonline.com/
AZURE_AD_AUDIENCE=api://your-llm-router-app-id
SERVICE_AUTH_ENABLED=true
MAX_FILE_SIZE=50MB  # Maximum attachment size
ALLOWED_FILE_TYPES=pdf,docx,txt,csv,jpg,png,py,js,ts,json

# Azure Database Configuration
DATABASE_URL=postgresql://user:pass@azure-postgresql-host:5432/htma_llm_router
REDIS_URL=redis://azure-redis-host:6379

# Vector Storage Configuration
POSTGRES_VECTOR_EXTENSION=pgvector
VECTOR_DIMENSION=1536  # Default for most embedding models

# Service Configuration
PORT=3000
NODE_ENV=production
LOG_LEVEL=info

# Routing Configuration
ROUTING_CONFIG_FILE=config/routing-priorities.json
CONFIG_RELOAD_INTERVAL=300  # 5 minutes
CONFIG_VALIDATION_ENABLED=true
CONFIG_BACKUP_ENABLED=true
CONFIG_BACKUP_RETENTION=7   # days
```

### **Model Configuration:**
```json
{
  "models": {
    "gemini-pro": {
      "name": "Gemini Pro",
      "endpoint": "projects/PROJECT/locations/LOCATION/publishers/google/models/gemini-pro",
      "capabilities": ["text-generation", "code-generation", "reasoning"],
      "maxTokens": 8192,
      "costPer1KInput": 0.0005,
      "costPer1KOutput": 0.0015,
      "performanceScore": 0.9
    }
  }
}
```

## ğŸ“Š **Success Metrics**

### **Performance Targets:**
- **Response Time**: < 100ms for routing decisions
- **Availability**: 99.9% uptime
- **Cost Reduction**: 20-30% reduction in LLM costs
- **Quality Improvement**: 15-25% improvement in response quality

### **Business Impact:**
- **Cost Savings**: Significant reduction in LLM operational costs
- **Performance**: Faster, more accurate AI responses
- **Efficiency**: Better resource utilization
- **Insights**: Data-driven optimization decisions

## ğŸš¨ **Risk Mitigation**

### **Technical Risks:**
- **Model Availability**: Implement failover and fallback strategies
- **Performance Degradation**: Continuous monitoring and alerting
- **Cost Spikes**: Budget limits and cost monitoring
- **Data Loss**: Regular backups and data validation

### **Operational Risks:**
- **Service Outages**: Health checks and automatic recovery
- **Scaling Issues**: Load testing and capacity planning
- **Security Vulnerabilities**: Regular security audits and updates

## ğŸ”® **Future Enhancements**

### **Advanced Features:**
- **Machine Learning Routing**: AI-powered routing optimization
- **Predictive Scaling**: Anticipate demand and scale resources
- **Multi-Cloud Support**: Extend beyond Google Cloud
- **Custom Model Integration**: Support for fine-tuned models
- **Real-time Learning**: Continuous optimization based on feedback

### **Integration Opportunities:**
- **CI/CD Pipelines**: Automated testing and deployment
- **Monitoring Tools**: Integration with existing observability stack
- **Business Intelligence**: Advanced analytics and reporting
- **API Gateway**: Centralized API management

## ğŸ“š **Documentation & Resources**

### **Required Documentation:**
- [ ] API Reference
- [ ] Configuration Guide
- [ ] Deployment Guide
- [ ] Troubleshooting Guide
- [ ] Performance Tuning Guide
- [ ] Cost Optimization Guide

### **Training Materials:**
- [ ] Admin User Guide
- [ ] Developer Integration Guide
- [ ] Best Practices Guide
- [ ] Video Tutorials

---

## ğŸ¯ **Next Steps**

1. **Review and Approve**: Stakeholder review of this roadmap
2. **Resource Allocation**: Assign development team and resources
3. **Timeline Confirmation**: Validate development phases and timelines
4. **Infrastructure Setup**: Prepare development and testing environments
5. **Development Kickoff**: Begin Phase 1 implementation

---

**Document Version**: 1.0  
**Last Updated**: $(date)  
**Next Review**: Phase 1 completion  
**Owner**: Development Team  
**Stakeholders**: Product, Engineering, Operations
